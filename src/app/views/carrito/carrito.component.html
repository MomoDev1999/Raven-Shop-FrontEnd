<div id="carrito" class="container mb-4">
  <div class="row">
    <div class="col-md-10 mx-auto">
      <h2 class="text-center mb-3 mt-3 oswald">MI CARRITO DE COMPRAS :D</h2>

      <div *ngIf="carrito.length > 0; else emptyCart">
        <div class="row oswald">
          <div class="col-md-12 mb-4" *ngFor="let item of carrito">
            <div class="card cart-item-card d-flex flex-row align-items-center">
              <a (click)="verMas(item.id)">
                <img
                  [src]="item.image"
                  class="cart-item-image"
                  [alt]="item.title"
                />
              </a>
              <div class="card-body">
                <h5 class="card-title">{{ item.title }}</h5>
                <p class="card-text">Precio: {{ item.price | currency }}</p>
                <p class="card-text">
                  Total: {{ item.price * item.quantity | currency }}
                </p>
                <div class="cart-item-quantity button-group mb-3">
                  <button
                    type="button"
                    class="btn btn-sm btn-dark"
                    (click)="decrementarCantidad(item)"
                  >
                    -
                  </button>
                  <button class="btn btn-sm btn-light disabled">
                    {{ item.quantity }}
                  </button>
                  <button
                    type="button"
                    class="btn btn-sm btn-dark"
                    (click)="incrementarCantidad(item)"
                  >
                    +
                  </button>

                  <button
                    type="button"
                    class="btn btn-danger btn-sm oswald"
                    (click)="eliminarDelCarrito(item)"
                  >
                    <i class="fas fa-trash"></i> Eliminar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="cart-summary text-end mt-4 oswald">
          <p><strong>Total:</strong> {{ calcularTotal() | currency }}</p>
          <button class="btn btn-dark me-3" (click)="realizarCompra()">
            Realizar Compra
          </button>
          <button class="btn btn-danger" (click)="vaciarCarrito()">
            Vaciar Carrito
          </button>
        </div>
      </div>

      <ng-template #emptyCart>
        <p class="text-center text-muted">No hay productos en el carrito.</p>
      </ng-template>
    </div>
  </div>
</div>
